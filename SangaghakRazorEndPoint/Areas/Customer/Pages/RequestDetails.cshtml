@page
@model SangaghakRazorEndPoint.Areas.Customer.Pages.RequestDetailsModel
@{
    Layout = "~/Areas/Admin/Pages/Shared/_Layout.cshtml";  // مشخص کردن قالب 1
    ViewData["Title"] = "جزئیات درخواست";
}
@using SangaghakRazorEndPoint
@namespace SangaghakRazorEndPoint.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-body">
                <!-- Logo & title -->
                <div class="clearfix pb-3 bg-info-subtle p-lg-3 p-2 m-n2 rounded position-relative">
                    <div class="float-sm-start">
                        <div class="auth-logo">
                            <img class="logo-dark me-1" src="/images/logo-dark.png" alt="لوگو تیره" height="24" />
                        </div>
                        <div class="mt-4">
                            <h4>اطلاعات درخواست</h4>
                            <address class="mt-3 mb-0">
                                <abbr title="توضیحات">توضیحات:</abbr> @Model.Request.Description
                                <abbr title="آدرس">آدرس:</abbr> @Model.Request.Address
                                <abbr title="شهر">شهر:</abbr> @Model.Request.CityTitle
                                <abbr title="قیمت درخواستی">قیمت درخواستی:</abbr> @Model.Request.WantedPrice
                                <abbr title="آخرین تاریخ">آخرین تاریخ:</abbr> @Model.Request.MaxTime
                            </address>
                        </div>
                    </div>
                    <div class="float-sm-end">
                        <div class="table-responsive">
                            <table class="table table-borderless mb-0">
                                <tbody>
                                    <tr>
                                        <td class="p-0 pe-5 py-1">
                                            <p class="mb-0 text-dark fw-semibold">صورت‌حساب:</p>
                                        </td>
                                        <td class="text-end text-dark fw-semibold px-0 py-1">@Model.Request.Id</td>
                                    </tr>
                                    <tr>
                                        <td class="p-0 pe-5 py-1">
                                            <p class="mb-0">تاریخ صدور:</p>
                                        </td>
                                        <td class="text-end text-dark fw-medium px-0 py-1">@Model.Request.SetAt</td>
                                    </tr>
                                    <tr>
                                        <td class="p-0 pe-5 py-1">
                                            <p class="mb-0">شناسه پیشنهاد پذیرفته شده</p>
                                        </td>
                                        <td class="text-end text-dark fw-medium px-0 py-1">@Model.Request.AcceptedOfferId</td>
                                    </tr>
                                    <tr>
                                        <td class="p-0 pe-5 py-1">
                                            <p class="mb-0">وضعیت:</p>
                                        </td>
                                        <td class="text-end px-0 py-1"><span class="badge bg-success text-white px-2 py-1 fs-13">@Model.Request.Status</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="position-absolute top-100 start-50 translate-middle">
                        <img src="/images/check-2.png" alt="" class="img-fluid">
                    </div>
                </div>


                <div class="clearfix pb-3 mt-4">
                    <div class="float-sm-start">
                        <div class="">
                            <h4 class="card-title">درخواست دهنده:</h4>
                            <div class="mt-3">
                                <h4>@Model.Request.CustomerFullName</h4>
                                <p class="mb-2">@Model.Request.CityTitle</p>
                                <p class="mb-2"><span class="text-decoration-underline">تلفن:</span>@Model.Request.CustomerPhone</p>
                                <p class="mb-2"><span class="text-decoration-underline">ایمیل:</span> @Model.Request.CustomerEmail</p>
                            </div>
                        </div>
                    </div>
                    <div class="float-sm-end">
                        <div class="">
                            <h4 class="card-title">پذیرنده:</h4>
                            <div class="mt-3">
                                <h4>@Model.Request.ExpertFullName</h4>
                                <p class="mb-2"><span class="text-decoration-underline">تلفن:</span> @Model.Request.ExpertPhone</p>
                                <p class="mb-2"><span class="text-decoration-underline">ایمیل:</span>@Model.Request.ExpertEmail</p>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-12">
                        <div class="table-responsive table-borderless text-nowrap table-centered">
                            <table class="table mb-0">
                                <thead class="bg-light bg-opacity-50">
                                    <tr>
                                        <th class="border-0 py-2">کارشناس</th>
                                        <th class="border-0 py-2">مبلغ پیشنهادی</th>
                                        <th class="border-0 py-2">تاریخ پیشنهادی</th>
                                        <th class="border-0 py-2">توضیحات پیشنهاد</th>
                                        <th class="text-end border-0 py-2">وضعیت</th>
                                    </tr>
                                </thead> <!-- پایان thead -->
                                <tbody>
                                    @foreach (var Offer in Model.Offers)
                                    {
                                        <tr>
                                            <td>
                                                <div class="d-flex align-items-center gap-3">
                                                    <div class="rounded bg-light avatar d-flex align-items-center justify-content-center">
                                                        <img src="/images/product/p-1.png" alt="" class="avatar">
                                                    </div>
                                                    <div>
                                                        <a href="#!" class="text-dark fw-medium fs-15">@Offer.ExpertFullName</a>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>@Offer.OfferedPrice</td>
                                            <td>@Offer.OfferedTime </td>
                                            <td>@Offer.Description</td>
                                            <td class="text-end"> @Offer.Status </td>
                                        </tr>
                                    }
                                </tbody> <!-- پایان tbody -->
                            </table> <!-- پایان جدول -->
                        </div> <!-- پایان جدول واکنش‌گرا -->
                    </div> <!-- پایان ستون -->
                </div> <!-- پایان سطر -->


                <div class="row mt-3">
                    <div class="col-lg-12">
                        <div class="alert alert-danger alert-icon p-2" role="alert">
                            <div class="d-flex align-items-center">
                                <div class="avatar-sm rounded bg-danger d-flex justify-content-center align-items-center fs-18 me-2 flex-shrink-0">
                                    <i class="bx bx-info-circle text-white"></i>
                                </div>
                                <div class="flex-grow-1">
                                    تمام حساب‌ها باید ظرف ۷ روز از دریافت فاکتور پرداخت شوند. پرداخت باید از طریق چک، کارت اعتباری یا پرداخت مستقیم آنلاین انجام شود. در صورت عدم پرداخت حساب ظرف ۷ روز، جزئیات اعتباری ارائه شده به عنوان تأیید کار انجام شده به مبلغ توافقی ذکر شده در بالا، کسر خواهد شد.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="mt-3 mb-1">
                    <div class="text-end d-print-none">
                        <a href="javascript:window.print()" class="btn btn-info width-xl">پرینت</a>
                        <a href="javascript:void(0);" class="btn btn-outline-primary width-xl">ارسال</a>
                    </div>
                </div>

            </div> <!-- end card body -->
        </div> <!-- end card -->
    </div> <!-- end col -->
</div> <!-- end row -->